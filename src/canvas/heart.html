<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Web Components API</title>
    <style media="screen">
      body { text-align: center;}
      canvas {
        margin: 20px auto;
        border: 1px solid #ccc;
      }
    </style>
  </head>
  <body>
    <canvas id="mycanvas" width="600" height="400"></canvas>

    <script type="text/javascript">
      const mycanvas = document.getElementById('mycanvas');
      const context = mycanvas.getContext('2d');
      const canvasWidth = mycanvas.width;
      const canvasHeight = mycanvas.height;

      /*
        心形函数公式
        0 < t < 2π
        x = 16(sin(t))³
        y = 13cos(t) - 5cos(2t) - 2cos(3t) - cos(4t)
       */

      context.translate(300, 200);
      // context.rect(0, 5, 20, 20);
      // context.stroke();

      function drawWave(context) {
        let step = 100;
        let a = 10;

        context.beginPath();
        // context.moveTo(0, 5);

        for (let i = 0; i < step; i++) {
          const t = (i / step) * (2 * Math.PI);
          const x = a * -1 * (16 * Math.pow(Math.sin(t), 3));
          const y = a * -1 * (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
          console.log("x, y", x, y);
          context.lineTo(x, y);
        }

        context.stroke();
        context.fill();
      }

      drawWave(context);

    </script>
  </body>
</html>
